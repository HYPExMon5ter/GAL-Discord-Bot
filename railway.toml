# Railway configuration for GAL API Server

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 60
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Resource allocation
numReplicas = 1

# Start command - API only
startCommand = "python -m uvicorn api.main:app --host 0.0.0.0 --port 8000"

# Environment variables
[deploy.env]
PYTHONUNBUFFERED = "1"
PYTHONDONTWRITEBYTECODE = "1"

# Service configuration for Railway
[service]
name = "gal-api-server"
# Auto-assigns public URL
port = 8000

# Health check configuration
[service.healthcheck]
path = "/health"
port = 8000
